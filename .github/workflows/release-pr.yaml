on:
  workflow_call:
    inputs:
      production-branch:
        default: main
        description: The name of the production branch
        required: false
        type: string
      develop-branch:
        default: ${{ github.event.repository.default_branch }}
        description: The name of the develop branch
        required: false
        type: string
      release-pr-labels:
        default: release,auto-generated
        description: The labels to add to the release PR
        required: false
        type: string
    secrets:
      github-token:
        required: true
        description: The GitHub token to use for authentication

jobs:
  release-pr:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:
      - uses: actions/checkout@v3
        with:
          repository: thedome/reusable-actions
          path: .github/actions/thedome/reusable-actions
      - uses: thedome/reusable-actions/create-release-pr@main
        with:
          production-branch: ${{ inputs.production-branch }}
          develop-branch: ${{ inputs.develop-branch }}
          release-pr-labels: ${{ inputs.release-pr-labels }}
          github-token: ${{ secrets.github-token }}
